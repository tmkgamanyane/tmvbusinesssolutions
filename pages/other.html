<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Other Services - TM Vanity Business Solutions</title>
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="../styles/responsive-fixes.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <header class="header">
    <div>
        <a href="https://www.tmvbusinesssolutions.co.za" target="_blank" rel="noopener noreferrer">
            <img src="../logos/TM Vanity Business Solutions Transparent Logo.png" alt="TMV Logo">
        </a>
    </div>
        
        <div id="companyName">TM Vanity Business Solutions</div>

        <div>
            <a href="client_login.html" id="loginButton">Login/Register</a>
        </div>

        <!-- Hamburger Menu Button -->
        <button class="hamburger" id="hamburgerMenu" aria-label="Toggle navigation menu">
            <span></span>
            <span></span>
            <span></span>
        </button>
    </header>

    <!-- Mobile Overlay -->
    <div class="mobile-overlay" id="mobileOverlay"></div>
    
    <nav id="navigationMenu">
        <ul>
            <li><a href="../index.html">Home</a></li>
            <li><a href="other.html">Other</a></li>
            <li>
                <a href="company_registration.html">Company Registration</a>
            </li>
            <li>
                <a href="structured_packages.html">Structured Packages</a>
            </li>
            <li>
                <a href="web_design.html">Web Design</a>
            </li>
            <li>
                <a href="it_infrastructure.html">IT Infrastructure</a>                
            </li>
            <li>
                <a href="architectural_services.html">Architectural Services</a>
            </li>
            <li>
                <a href="sars_services.html">SARS Services</a>
            </li>
            <li>
                <a href="accounting_services.html">Accounting Services</a>                 
            </li>   
            <li>
                <a href="business_consulting.html">Business Consulting</a>
            </li>
            <li>
                <a href="branding_identity.html">Branding & Identity</a>
            </li>
            <li>
                <a href="marketing_services.html">Marketing Services</a>
            </li>
            <li>
                <a href="social_media_growth.html">Social Media Growth</a>
            </li>
             <li>
                <a href="jobseeker_dashboard.html">Careers</a>                
            </li>   
        </ul>
    </nav>

    <div class="guestname">
        Welcome, Guest
    </div>

   <div class="other-services-container">
        <div class="other-services-box">
            <h2 class="other-services-box-title">Professional Services</h2>
            
            <div class="other-services-item" data-service="cidb" data-price="700">
                <div class="other-services-header">
                    <div class="other-services-header-content">
                        <input type="checkbox" class="service-checkbox" id="cidb">
                        <label for="cidb" class="other-service-name">CIDB Registration</label>
                    </div>
                    <span class="service-price">R700</span>
                </div>
                <div class="service-description">
                    Construction Industry Development Board registration for construction contractors and professionals.
                </div>
            </div>

            <div class="other-services-item" data-service="BO" data-price="850">
                <div class="other-services-header">
                    <div class="other-services-header-content">
                        <input type="checkbox" class="service-checkbox" id="BO">
                        <label for="BO" class="other-service-name">Beneficial Ownership</label>
                    </div>
                    <span class="service-price">R850</span>
                </div>
                <div class="service-description">
                    Stressed about CIPC's Beneficial Ownership Register? We handle the filing so you don't have to. Ensure 100% compliance without the hassle.
                </div>
            </div>

            <div class="other-services-item" data-service="csd" data-price="350">
                <div class="other-services-header">
                    <div class="other-services-header-content">
                        <input type="checkbox" class="service-checkbox" id="csd">
                        <label for="csd" class="other-service-name">CSD Registration</label>
                    </div>
                    <span class="service-price">R350</span>
                </div>
                <div class="service-description">
                    Central Supplier Database registration for government tender opportunities and procurement.
                </div>
            </div>

            <div class="other-services-item" data-service="bbee" data-price="650">
                <div class="other-services-header">
                    <div class="other-services-header-content">
                        <input type="checkbox" class="service-checkbox" id="bbee">
                        <label for="bbee" class="other-service-name">B-BBEE Certificate</label>
                    </div>
                    <span class="service-price">R650</span>
                </div>
                <div class="service-description">
                    Broad-Based Black Economic Empowerment certificate for enhanced business opportunities.
                </div>
            </div>

            <div class="other-services-item" data-service="sars" data-price="350">
                <div class="other-services-header">
                    <div class="other-services-header-content">
                        <input type="checkbox" class="service-checkbox" id="sars">
                        <label for="sars" class="other-service-name">SARS Tax Clearance</label>
                    </div>
                    <span class="service-price">R350</span>
                </div>
                <div class="service-description">
                    South African Revenue Service tax clearance certificate for company compliance.
                </div>
            </div>
        </div>
    
            
        <div class="other-services-requirements-panel">
            <h2 class="other-services-requirements-header">Service Requirements</h2>
            
            <div class="other-services-requirement-item">
                <div class="other-services-requirement-title">CIDB Registration</div>
                <div class="other-services-requirement-content">
                    <strong>Requirements:</strong><br>
                    • Company registration documents (CIPC)<br>
                    • ID copies of directors<br>
                    • Tax clearance certificate (SARS)<br>
                    • Proof of business address<br>
                    • Financial statements or bank statements
                </div>
            </div>

            <div class="other-services-requirement-item">
                <div class="other-services-requirement-title">Beneficial Ownership</div>
                <div class="other-services-requirement-content">
                    <strong>Requirements:</strong><br>
                    • Company registration documents<br>
                    • Details of all shareholders and directors (including % shareholding)<br>
                    • Certified ID copies of beneficial owners<br>
                    • Contact details and proof of address for owners
                </div>
            </div>

            <div class="other-services-requirement-item">
                <div class="other-services-requirement-title">CSD Registration</div>
                <div class="other-services-requirement-content">
                    <strong>Requirements:</strong><br>
                    • CIPC company registration documents<br>
                    • SARS Tax clearance PIN<br>
                    • Banking details with confirmation letter or stamped bank statement<br>
                    • B-BBEE certificate/affidavit (depending on company size)<br>
                    • Proof of address and director IDs
                </div>
            </div>

            <div class="other-services-requirement-item">
                <div class="other-services-requirement-title">B-BBEE Certificate</div>
                <div class="other-services-requirement-content">
                    <strong>Requirements:</strong><br>
                    • Company registration documents<br>
                    • Annual financial statements<br>
                    • Shareholding structure and black ownership details<br>
                    • Employee information (to assess skills development and employment equity)<br>
                    • Relevant supporting affidavits (for exempt micro-enterprises if turnover < R10m)
                </div>
            </div>

            <div class="other-services-requirement-item">
                <div class="other-services-requirement-title">SARS Tax Clearance</div>
                <div class="other-services-requirement-content">
                    <strong>Requirements:</strong><br>
                    • Registered company or sole proprietor with SARS<br>
                    • Up-to-date tax returns (Income Tax, VAT, PAYE if applicable)<br>
                    • No outstanding penalties or amounts owed to SARS<br>
                    • Valid SARS eFiling profile
                </div>
            </div>            
        </div>
    </div>            
    
    <div class="other-services-total-section">
        <div class="other-services-total-label">Total Amount</div>
        <div class="other-services-total-amount" id="totalAmount">R0</div>

        <!-- Selected items summary -->
        <div id="selectedItemsSummary" class="other-services-selected-items-summary"></div>

        <button class="other-services-pay-now-btn" id="payNowBtn" onclick="processYocoPayment()" disabled>
            <i class="fas fa-credit-card"></i> Pay Now
        </button>
    </div>

    <footer>
        <div class="section">
            <h4>Contact</h4>
            <p>Tel: 087 123 4567</p>
            <p>Cell: 081 253 7967</p>
            <p>Email: <a href="mailto:sales@tmvbusinesssolutions.co.za">sales@tmvbusinesssolutions.co.za</a></p>
            <p>Email: <a href="mailto:info@tmvbusinesssolutions.co.za">info@tmvbusinesssolutions.co.za</a></p>
        </div>
        <div class="section">
            <h4>Address</h4>
            <p>186 Frikkie De Beer Street</p>
            <p>Menlyn Place</p>
            <p>Menlyn</p>
            <p>0063</p>
        </div>
        <div class="section">
            <h4>Important Links</h4>
            <p><a href="legal.html">Legal</a></p>
            <p><a href="https://popia.co.za/" target="_blank" rel="noopener noreferrer">POPIA Act</a></p>
            <p><a href="https://www.cipc.co.za/" target="_blank" rel="noopener noreferrer">CIPC</a></p>
            <p><a href="https://www.sars.gov.za/" target="_blank" rel="noopener noreferrer">SARS</a></p>
        </div>
        <div class="section">
            <h4>Social Media</h4>
            <p><a href="https://www.facebook.com/profile.php?id=61570883496340" target="_blank" rel="noopener noreferrer">Facebook</a></p>
            <p><a href="https://x.com/tmvbizsolutions" target="_blank" rel="noopener noreferrer">Twitter</a></p>
            <p><a href="#">Instagram</a></p>
        </div>
        <div class="section">
            <h4>Subscribe</h4>
            <form class="subscribe-form">
                <input type="text" placeholder="Name">
                <input type="text" placeholder="Last Name">
                <input type="email" placeholder="Email">
                <input type="text" placeholder="Contact No.">
                <button type="submit">Subscribe</button>
            </form>
        </div>
    </footer>

    <script src="../scripts/api.js" defer></script>
    <script src="../scripts/auth.js" defer></script>
    <script src="../scripts/login.js" defer></script>
    <script src="../scripts/auth-check.js"></script>
    <script src="../scripts/mobile-responsive.js"></script>
    <script src="../assets/payment-modal.js"></script>

<script>
    // Variables to store selected services
        let selectedServices = [];
        let totalAmount = 0;
        
        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            // Add event listeners to checkboxes
            document.querySelectorAll('.service-checkbox').forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    updateSelectedServices();
                    updateTotalAmount();
                    updateSelectedItemsSummary();
                    updatePayButton();
                });
            });
        });
        
        // Function to update selected services
        function updateSelectedServices() {
            selectedServices = [];
            
            document.querySelectorAll('.service-checkbox:checked').forEach(checkbox => {
                const serviceItem = checkbox.closest('.other-services-item');
                const serviceName = serviceItem.querySelector('.other-service-name').textContent;
                const servicePrice = parseInt(serviceItem.getAttribute('data-price'));
                
                selectedServices.push({
                    id: checkbox.id,
                    name: serviceName,
                    price: servicePrice
                });
            });
        }
        
        // Function to update total amount
        function updateTotalAmount() {
            totalAmount = selectedServices.reduce((total, service) => total + service.price, 0);
            document.getElementById('totalAmount').textContent = `R${totalAmount}`;
        }
        
        // Function to update selected items summary
        function updateSelectedItemsSummary() {
            const summaryElement = document.getElementById('selectedItemsSummary');
            
            if (selectedServices.length === 0) {
                summaryElement.innerHTML = '';
                return;
            }
            
            let summaryHTML = '<ul>';
            selectedServices.forEach(service => {
                summaryHTML += `<li>${service.name} - R${service.price}</li>`;
            });
            summaryHTML += '</ul>';
            
            summaryElement.innerHTML = summaryHTML;
        }
        
        // Function to update pay button state
        function updatePayButton() {
            const payButton = document.getElementById('payNowBtn');
            payButton.disabled = selectedServices.length === 0;
        }
        
        // Initialize Yoco Payment Gateway
        const yocoGateway = new YocoPaymentGateway();
        
        // Main payment processing function using Yoco
        function processYocoPayment() {
            if (totalAmount === 0) {
                alert('Please select at least one service');
                return;
            }
            
            // Prepare payment data
            const paymentData = {
                amount: totalAmount * 100, // Convert to cents
                currency: 'ZAR',
                description: `TMV Other Services - ${selectedServices.length} item(s)`,
                metadata: {
                    services: selectedServices.map(s => s.name).join(', '),
                    serviceCount: selectedServices.length,
                    source: 'other_services_page'
                }
            };
            
            // Process payment via Yoco
            yocoGateway.openPaymentModal({
                ...paymentData,
                onSuccess: (result) => {
                    console.log('Payment initiated:', result);
                    // Payment will redirect to Yoco, then back to success/failure pages
                },
                onError: (error) => {
                    console.error('Payment error:', error);
                    alert('Payment failed: ' + error.message);
                }
            });
        }
        
        // Function to reset the entire selection
        function resetSelection() {
            // Uncheck all checkboxes
            document.querySelectorAll('.service-checkbox').forEach(checkbox => {
                checkbox.checked = false;
            });
            
            // Reset selected services
            selectedServices = [];
            totalAmount = 0;
            
            // Update UI
            document.getElementById('totalAmount').textContent = 'R0';
            document.getElementById('selectedItemsSummary').innerHTML = '';
            document.getElementById('payNowBtn').disabled = true;
        }
</script>    
</body>
</html>